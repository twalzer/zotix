<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="
       http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
       http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd">

    <!--<cm:property-placeholder persistent-id="co.zotix.schematron.config" update-strategy="reload">-->
        <!--<cm:default-properties>-->
            <!--<cm:property name="prefix" value="Blueprint-Example"/>-->
        <!--</cm:default-properties>-->
    <!--</cm:property-placeholder>-->

    <camelContext xmlns="http://camel.apache.org/schema/blueprint">

        <!-- explicitly set properties locations in blueprint -->
        <!--<propertyPlaceholder id="properties" location="blueprint:co.zotix.schematron.config"/>-->



        <!--<packageScan>-->
            <!--<package>co.zotix.schematron.route</package>-->
        <!--</packageScan>-->

        <route>
            <from uri="timer://myTimer?fixedRate=true&amp;period=2000" />
            <bean ref="myTransform" method="transform"/>
            <to uri="log:ExampleRouterBlueprint" />
        </route>
        <!--<route id="schematron.file">-->
            <!--<from uri="{{file.input}}"/>-->
            <!--<convertBodyTo type="java.lang.String" />-->
            <!--<log message="The message contains ${body}"/>-->
            <!--<to uri="{{schematron.endpoint}}"/>-->
            <!--<log message="Report status: ${in.header.CamelSchematronValidationStatus}" />-->
            <!--<setBody>-->
                <!--<header>CamelSchematronValidationReport</header>-->
            <!--</setBody>-->
            <!--<to uri="{{file.output}}"/>-->
        <!--</route>-->

    </camelContext>
    <bean id="myTransform" class="co.zotix.schematron.MyTransform">
        <property name="prefix" value="${prefix}" />
    </bean>

</blueprint>
